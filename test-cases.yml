---
- summary: |
    Проверка создания пробной игры без успешной авторизации пользователя
  requirement: |
    Пробная игры открывается без требования авторизации пользователя
  prerequisites: |
    Открыта главная страница сайта, авторизация не выполнена
  test-data: |
    no data
  steps:
    - Нажать кнопку "Try simple battle"
  expected-result: |
    Открывается полноценная игра с соперником-ботом, без требования авторизации пользователя

- summary: |
    Успешная регистрации пользователя через email
  requirement: |
   Аккаунт пользователя создаётся при вводе валидных данных (nickname, email, password, confirm password)
  prerequisites: |
    Открыта страница регистрации
  test-data: |
    - Nickname - Test_test
    - Email - test_test@gmail.com
    - Password - 123test!
    - Confirm password - 123test!
  steps:
    - Вводим Nickname
    - Вводим Email
    - Вводим пароль
    - Вводим подтверждение пароля
  expected-result: |
    Произведена успешная аутентификация, открывается страница проходящих в данный момент батлов

- summary: |
     Успешная авторизация пользователя через Github
  requirement: |
   Пользователь успешно проходит авторизацию через Github
  prerequisites: |
    Открыто окно регистрации
  test-data: |
    no data
  steps:
    - Нажать кнопку "Sign in with Github"
  expected-result: |
    Пользователь успешно авторизован

- summary: |
     Успешная авторизация пользователя через Discord
  requirement: |
     Пользователь успешно проходит авторизацию через Discord
  prerequisites: |
    Открыто окно регистрации
  test-data: |
    no data
  steps:
    - Нажать кнопку "Sign in with Discord"
  expected-result: |
    Пользователь успешно авторизован

- summary: |
    Проверка возможности восстановление пароля
  requirement: |
    Пароль успешно восстанавливается
  prerequisites: |
    Открыто окно восстановления пароля
  test-data: |
    Email - test_test@gmail.com
  steps:
    - Ввести Email
    - Нажать "Submit"
  expected-result: |
    Появляется модальное окно с сообщением об отправке инструкции по восстановлению пароля на указанный email

- summary: |
    Проверка возможности выхода пользователя из профиля
  requirement: |
    Пользователь выйти из личного профиля
  prerequisites: |
    Произведён вход в аккаунт
  test-data: |
    no data
  steps:
    - Нажать на никнейм в шапке сайта
    - Нажать "Sign Out"
  expected-result: |
    Происходит выход из профиля пользователя, открывается главная страница сайта для неавторизованных пользователей

- summary: |
    Проверка создания игры авторизованным пользователем
  requirement: |
    Игры успешно создаётся авторизованным пользователем
  prerequisites: |
    Пользователь авторизован
  test-data: |
    Nickname - Test_test, email - test_test@list.ru, password - 123456!
  steps:
    - Нажать на кнопку "Create a game"
    - Нажать на кнопку "Create battle"
  expected-result: |
    Игра успешно создана авторизованным пользователем

- summary: |
   Проверка открытия гайда с описанием функционала в созданной игре
  requirement: |
   Открывается гайд с описанием функционала игры
  prerequisites: |
    Пользователь авторизован, создана игра
  test-data: |
    no data
  steps:
    - Нажать на кнопку "Show guide"
  expected-result: |
    Открывается модальное окно с описанием функционала игры

- summary: |
   Проверка выбора языка описания задания игры
  requirement: |
   Язык описания задания меняется на русский/английский
  prerequisites: |
    Пользователь авторизован, создана игра
  test-data: |
    no data
  steps:
    - Нажать на кнопку "EN"/"RU"
    - Выбрать язык (русский/английский)
  expected-result: |
    Язык описания задания меняется на русский/английский

- summary: |
   Проверка выбора языка программирования в игре
  requirement: |
   Язык программирования меняется в соответствии с выбором на любой из 15 языков 
  prerequisites: |
    Пользователь авторизован, создана игра
  test-data: |
    no data
  steps:
    - Нажать на кнопку с названием языка программирования
    - Выбрать любой из представленных языков программирования
  expected-result: |
     Язык программирования меняется в соответствии с выбором

- summary: |
   Проверка возможности проверки собственного решения неограниченное количество раз
  requirement: |
   Решение пользователя проверяется неограниченное количество раз
  prerequisites: |
    Пользователь авторизован, создана игра
  test-data: |
    no data
  steps:
    - Внести любые изменения в код
    - Нажать на кнопку Run
  expected-result: |
     Решение пользователя проверяется неограниченное количество раз

- summary: |
   Проверка возвращения в игру после "вылета" из неё
  requirement: |
   Пользователь может успешно переподключиться к прерванной игре
  prerequisites: |
    Пользователь авторизован, создана игра "rect_area" с ботом
  test-data: |
    no data
  steps:
    - Закрыть веб-страницу игры
    - Открыть главную страницу Codebattle
    - Нажать кнопку "Continue" 
  expected-result: |
     Пользователь успешно возвращается в прерванную игру

- summary: |
   Проверка возможности написания кода в текстовом редакторе игры
  requirement: |
   Пользователь может писать свой код в текстовом редакторе игры
  prerequisites: |
    Пользователь авторизован, создана игра
  test-data: |
    no data
  steps:
    - Внести любые изменения в код
  expected-result: |
     Написанный код отображается в текстовом редакторе игры

- summary: |
   Проверка возможности сброса всех изменений кода
  requirement: |
   Пользователь может сбросить все изменения, введённые в код
  prerequisites: |
    Пользователь авторизован, создана игра
  test-data: |
    no data
  steps:
    - Внести любые изменения в код
    - Нажать "Resert solution"
  expected-result: |
     Все внесённые изменени сбрасываются 

- summary: |
   Проверка возможности запуска написанного кода (Run)
  requirement: |
   Пользователь может запустить написанный в игре код
  prerequisites: |
    Пользователь авторизован, создана игра
  test-data: |
    no data
  steps:
    - Внести любые изменения в код
    - Нажать кнопку "Run"
  expected-result: |
     Происходит запуск кода с сообщением о правильности/неправильности решения

- summary: |
   Проверка возможности отправки сообщений в чат игры
  requirement: |
   Пользователь может отправлять сообщения в чат игры
  prerequisites: |
    Пользователь авторизован, создана игра
  test-data: |
    Привет, Hi! 123
  steps:
    - Ввести сообщение в строку сообщений чата
    - Нажать кнопку "Send"
  expected-result: |
     Сообщение отображается в чате игры

- summary: |
   Проверка возможности возвращения на главную страницу сайта без прерывания игры
  requirement: |
   Пользователь может вернуться на главную страницу сайта без прерывания игры
  prerequisites: |
    Пользователь авторизован, создана игра
  test-data: |
    no data
  steps:
    - Нажать кнопку "Back to Home"
    - Нажать кнопку "Continue"
  expected-result: |
     Пользователь может выйти на главную страницу сайта и вернуться в игру без её прерывания

- summary: |
   Проверка возможности рематча после окончания времени по таймеру
  requirement: |
   Пользователь может произвести рематч после окончания времени по таймеру
  prerequisites: |
    Пользователь авторизован, создана игра, время истекло
  test-data: |
    no data
  steps:
    - Нажать кнопку "Rematch"
  expected-result: |
     Происходит перезагрузка игры, игры начинается заново

- summary: |
   Проверка возможности сдаться во время игры
  requirement: |
   Пользователь может сдаться во время игры
  prerequisites: |
    Пользователь авторизован, создана игра
  test-data: |
    no data
  steps:
    - Нажать синюю кнопку с тремя точками
    - Выбрать "Give up"
    - В модальном окне нажать "Give up'
  expected-result: |
     Появляется модальное окно с анимацией "Game over", проигрыш отображается в личном кабинете

- summary: |
   Проверка возможности просмотра рейтинга игроков в LEADERBOARD
  requirement: |
   Пользователь может просматривать рейтинг игроков на главной странице сайта в LEADERBOARD
  prerequisites: |
    Пользователь авторизован
  test-data: |
    no data
  steps:
    - Нажать кнопку "Week"
    - Нажать кнопку "Month"
    - Нажать кнопку "All"
  expected-result: |
     Отображается рейтинг игроков за неделю, месяц, все

- summary: |
   Проверка возможности присоединения к просмотру турнира других игроков
  requirement: |
   Пользователь может присоединиться к просмотру турнира других игроков
  prerequisites: |
    Пользователь авторизован, создан турнир между другими игроками 
  test-data: |
    no data
  steps:
    - Нажать кнопку "Show" напротив турнира
  expected-result: |
     Открывается игра, пользователь присоединяется к просмотру в качестве зрителя

- summary: |
   Проверка возможности присоединения к турниру в качестве второго игрока
  requirement: |
   Пользователь успешно присоединяется к турниру в качестве второго игрока
  prerequisites: |
    Пользователь авторизован, открыта вкладка LOBBY
  test-data: |
    no data
  steps:
    - Нажать кнопку "Fight" напротив турнира
  expected-result: |
     Открывается игра, пользователь присоединяется к турниру в качестве второго игрока

- summary: |
   Проверка возможности отправки сообщений в чат на главной странице сайта
  requirement: |
   Пользователь может отправлять сообщения в чат на главной странице сайта
  prerequisites: |
    Пользователь авторизован
  test-data: |
    Привет, Hi! 123
  steps:
    - Ввести сообщение в строку сообщений чата
    - Нажать кнопку "Send"
  expected-result: |
     Сообщение отображается в чате на главной странице сайта

- summary: |
   Проверка появления модального окна с анимацией в случае выигрыша/проигрыша
  requirement: |
   Пользователь должен видеть модальное окно с анимацией в случае выигрыша/проигрыша
  prerequisites: |
   Пользователь авторизован, создана игра, введён верный/неверный код
  test-data: |
    no data
  steps:
    - Нажать кнопку "Run"
  expected-result: |
    Появляется модальное окно с анимацией

- summary: |
   Проверка возможности выхода пользователя-победителя из игры
  requirement: |
   Пользователь-победитель может выйти из игры
  prerequisites: |
    Пользователь авторизован, создана игра, игра выиграна
  test-data: |
    no data
  steps:
    - Нажать кнопку "Back to home"
  expected-result: |
    Открывается главная страница сайта с возможностью начать новую игру

- summary: |
   Пользователь-проигравший должен иметь возможность доиграть до конца
  requirement: |
   Пользователь-проигравший может продолжать играть в проигранную игру
  prerequisites: |
    Пользователь авторизован, игра создана, игра проиграна
  test-data: |
    no data
  steps:
    - Внести изменения в код
    - Нажать "Run"
  expected-result: |
    Пользователь может продолжать играть, получая сообщения о верном/неверном решении задания

- summary: |
   Проверка завершения игры после выхода обоих игроков
  requirement: |
   Игра завершается после выхода обоих игроков
  prerequisites: |
    Пользователь авторизован, создана игра
  test-data: |
    no data
  steps:
    - Нажать "Back to home"
  expected-result: |
    Открывается главная страница сайта с возможностью создания новой игры, без возможности возврата в предыдущую

- summary: |
    Проверка возможности просмотра личного рейтинга пользователя
  requirement: |
    При открытии личного кабинета отображается личный рейтинг пользователя
  prerequisites: |
    Пользователь авторизован, открыта главная страница сайта
  test-data: |
    no data
  steps:
    - Нажать на никнейм
    - Выбрать "My profile"
  expected-result: |
    Открывается личный кабинет пользователя с отображением рейтинга

- summary: |
   Проверка мобильной версии Codebattle
  requirement: |
   При выборе в инструментах разработчика/BrowserStack мобильного устройства, сайт корректно отображается в мобильной версии
  prerequisites: |
    no data
  test-data: |
    no data
  steps:
    - Выбираем любое из доступных мобильных устройств
  expected-result: |
    Сайт магазина корректно отображается в мобильной версии устройства

- summary: |
    Проверка совместимости сайта Codebattle с последними версиями браузеров Microsoft Edge, Internet Explorer, Mozilla Firefox, Google Chrome, Opera, Safari
  requirement: |
    При открытии сайта в последних версиях браузеров (BrowserStack), сайт отображается
  prerequisites: |
    no data
  test-data: |
    https://codebattle.hexlet.io
  steps:
    - Выбираем необходимый браузер
    - Вставляем ссылку https://codebattle.hexlet.io в поисковую строку последней версии браузера
  expected-result: |
    Сайт Codebattle отображается в последней версии браузера

- summary: |
    Проверка пагинации общего рейтинга игроков
  requirement: |
    Рейтинг игроков корректно отображается при пагинации
  prerequisites: |
    Пользователь авторизован, открыт Top list игроков в Leaderdord, выбран users rating "total"
  test-data: |
    no data
  steps:
    - Выбираем любую сатраницу рейтинга
  expected-result: |
    Рейтинг игроков корректно отображается при пагинации

- summary: |
    Проверка возможности просмотра страницы любого пользователя
  requirement: |
    При нажатии на никнейм, открывается страницы пользователя
  prerequisites: |
    Пользователь авторизован, открыт Top list игроков в Leaderboard
  test-data: |
    no data
  steps:
    - Нажимаем на никнейм любого пользователя
  expected-result: |
    Открывается страница выбранного пользователя

- summary: |
    Проверка возможности смены никнейма в настройках профиля пользователя
  requirement: |
    Пользователь может сменить никнейм в настройках профиля
  prerequisites: |
    Открыта страница настроек (settings) профиля
  test-data: |
    Test_1
  steps:
    - Ввести в поле "Your name" данные "Test_1"
    - Нажать Save
    - Выйти со страницы настроек (settings) профиля
  expected-result: |
    Полявляется сообщение "Your settings has been changed", новый никнейм отображается в профиле после выхода из настроек

- summary: |
    Проверка возможности смены языка программирования в настройках профиля пользователя
  requirement: |
    Пользователь может сменить язык программирования в настройках профиля
  prerequisites: |
    Открыта страница настроек (settings) профиля
  test-data: |
    no data
  steps:
    - Выбрать в поле "Your weapon" любой из достпуных языков программирования (Clojure, Cpp, Csharp, Dart, Elixir, Go, Haskell, Java, Javascript, Kotlin, Php, Python, Ruby, Rust, Typescript)
    - Нажать Save
  expected-result: |
    Появляется сообщение "Your settings has been changed"

- summary: |
    Проверка возможности создания клана в настройках профиля
  requirement: |
    Пользователь может создать клан в настройках профиля
  prerequisites: |
    Открыта страница настроек (settings) профиля
  test-data: |
    TEST_clan
  steps:
    - Ввести в поле "Your clan" данные "TEST_clan"
    - Нажать Save
  expected-result: |
    Полявляется сообщение "Your settings has been changed"

- summary: |
    Проверка возможности настройки громкости звука уведомлений в настройках профиля
  requirement: |
    Пользователь может изменить громкость звука уведомлений в настройках профиля
  prerequisites: |
    Открыта страница настроек (settings) профиля
  test-data: |
    no data
  steps:
    - Выбрать любой уровни громкости
    - Нажать Save
  expected-result: |
    Полявляется сообщение "Your settings has been changed"

- summary: |
    Проверка возможности просмотра списка завершённых игр пользователя
  requirement: |
    В профиле пользователя можно просмотреть спиисок завершённых игр во вкладке "Completed games"
  prerequisites: |
    Открыт профиль пользователя
  test-data: |
    no data
  steps:
    - Нажать на вкладку "Completed games"
  expected-result: |
    Отображается список завершённых игр пользователя

- summary: |
    Проверка открытия страницы завершённой игры пользователя с возможностью просмотра видеозаписи
  requirement: |
    В профиле пользователя можно открыть страницу завершённой игры с возможностью просмотра видеозаписи
  prerequisites: |
    Открыта вкладка "Completed games" в профиле пользователя
  test-data: |
    no data
  steps:
    - Нажать на "Show" напротив любой из завершённых игр
  expected-result: |
    Открывается страница завершённой игры пользователя с возможностью просмотра видеозаписи

- summary: |
    Проверка возможности просмотра видеозаписи завершённой игры пользователя
  requirement: |
    Завершённую игру пользователя можно просмотреть в формате видеозаписи
  prerequisites: |
    Открыта любая из завершённых игр пользователя из вкладки профиля "Completed games"
  test-data: |
    no data
  steps:
    - Нажать на "▶"
  expected-result: |
    Воспроизводится видеозапись завершённой игры

- summary: |
    Проверка открытия страницы создания новой задачи для Codebattle
  requirement: |
    Пользователь может открыть страницу создания новой задачи для Codebattle
  prerequisites: |
    Открыта вкладка Tasks личного кабинета пользователя
  test-data: |
    no data
  steps:
    - Нажать на "Create new task"
  expected-result: |
    Открывается страницв создания новой задачи для Codebattle